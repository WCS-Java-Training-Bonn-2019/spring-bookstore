image: maven:latest

variables:
  MAVEN_OPTS: "-Dmaven.repo.local=.m2/repository"

cache:
  paths:
    - .m2/repository/
    - target/

stages:
 - validate
 - code-bauen
 - testen
 
allgemeine-pruefung:
  stage: validate
  script: 
    - mvn clean validate

paralleler-schritt: 
  stage: code-bauen
  script: 
    - echo "ich mach etwas"

build:
  stage: code-bauen
  script:
    - mvn compile

test:
  stage: testen
  script:
    - mvn test